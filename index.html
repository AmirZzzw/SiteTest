<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>ูุฑูุดฺฏุงู ุฎุฏูุงุช ุฏุฌุชุงู | SidkaShop</title>
    
    <!-- ุงุณุชุงูโูุง -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- ูุชุง ุชฺฏโูุง ููู ุจุฑุง ููุจุงู -->
    <meta name="theme-color" content="#121212">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- ูพุดโุจุงุฑฺฏุฐุงุฑ ูููุชโูุง -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- ุงุณุชุงูโูุง ุงููู -->
    <style>
        /* ุงุณุชุงูโูุง ูููุช ููฺฏุงู ููุฏูฺฏ */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: #121212;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-family: Vazirmatn, sans-serif;
            transition: opacity 0.5s ease;
        }
        
        .loading-logo {
            font-size: 3rem;
            color: #3498db;
            margin-bottom: 20px;
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0.7; transform: scale(1); }
        }
        
        .loading-text {
            color: #f5f5f5;
            font-size: 1.2rem;
            margin-bottom: 30px;
            text-align: center;
        }
        
        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(52, 152, 219, 0.3);
            border-top: 4px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ููุชูฺฉุดู */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 9998;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            font-family: Vazirmatn, sans-serif;
            text-align: center;
            min-width: 300px;
            max-width: 90vw;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from {
                top: -100px;
                opacity: 0;
            }
            to {
                top: 20px;
                opacity: 1;
            }
        }
        
        .notification-success {
            background-color: #2ecc71;
        }
        
        .notification-error {
            background-color: #e74c3c;
        }
        
        .notification-warning {
            background-color: #f39c12;
        }
        
        .notification-info {
            background-color: #3498db;
        }
        
        /* ุงุณฺฉุฑููโุจุงุฑ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1e1e1e;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #3498db;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #2980b9;
        }
        
        /* ุจูุจูุฏ ููุงุด ุฏุฑ ููุจุงู */
        @media (max-width: 768px) {
            .notification {
                min-width: 90%;
                font-size: 0.9rem;
                padding: 12px 20px;
            }
            
            .loading-logo {
                font-size: 2.5rem;
            }
            
            .loading-text {
                font-size: 1rem;
                padding: 0 20px;
            }
        }
    </style>
    
    <!-- ุจุงุฑฺฏุฐุงุฑ ุงูู ุงุณฺฉุฑูพุชโูุง -->
    <script>
        // ุชุงุจุน ุจุงุฑฺฏุฐุงุฑ ุงุณฺฉุฑูพุช
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = () => {
                    console.log(`โ Loaded: ${src}`);
                    resolve();
                };
                script.onerror = () => {
                    console.error(`โ Failed to load: ${src}`);
                    reject(new Error(`Failed to load ${src}`));
                };
                document.head.appendChild(script);
            });
        }
        
        // ุชุงุจุน ููุงุด ุฎุทุง ุจู ฺฉุงุฑุจุฑ
        function showErrorToUser(message) {
            const errorDiv = document.createElement('div');
            errorDiv.className = 'notification notification-error';
            errorDiv.innerHTML = `
                <i class="fas fa-exclamation-circle"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="
                    background: transparent;
                    border: 1px solid white;
                    color: white;
                    margin-right: 15px;
                    padding: 5px 10px;
                    border-radius: 5px;
                    cursor: pointer;
                    font-family: Vazirmatn, sans-serif;
                ">ุจุณุชู</button>
            `;
            document.body.appendChild(errorDiv);
            
            // ุญุฐู ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ 10 ุซุงูู
            setTimeout(() => {
                if (errorDiv.parentNode) {
                    errorDiv.remove();
                }
            }, 10000);
        }
        
        // ุชุงุจุน ููุงุด ููุชูฺฉุดู
        window.showNotification = function(message, type = 'info') {
            // ุญุฐู ููุชูฺฉุดู ูุจู
            const existing = document.querySelector('.notification:not(.notification-error)');
            if (existing) existing.remove();
            
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // ุญุฐู ุฎูุฏฺฉุงุฑ ุจุนุฏ ุงุฒ 5 ุซุงูู
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.opacity = '0';
                    notification.style.transition = 'opacity 0.5s ease';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 5000);
        };
        
        // ุจุงุฑฺฏุฐุงุฑ ููู ุงุณฺฉุฑูพุชโูุง
        async function loadAllScripts() {
            console.log('๐ ุดุฑูุน ุจุงุฑฺฏุฐุงุฑ ุจุฑูุงูู...');
            
            try {
                // ูุฑุญูู ฑ: ุจุงุฑฺฏุฐุงุฑ Supabase ุงุฒ CDN
                console.log('๐ฆ ุจุงุฑฺฏุฐุงุฑ Supabase...');
                await loadScript('https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js');
                
                // ูุฑุญูู ฒ: ุจุงุฑฺฏุฐุงุฑ ุณุฑูุณโูุง
                console.log('๐ง ุจุงุฑฺฏุฐุงุฑ ุณุฑูุณโูุง...');
                try {
                    await loadScript('supabase-service.js');
                } catch (serviceError) {
                    console.warn('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุณุฑูุณ ุงุตู:', serviceError);
                    // ุจุงุฑฺฏุฐุงุฑ ุณุฑูุณ ุฌุงฺฏุฒู
                    try {
                        await loadScript('supabase-service-fixed.js');
                    } catch (fixedError) {
                        console.warn('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุณุฑูุณ ุฌุงฺฏุฒู:', fixedError);
                        // ุจุงุฑฺฏุฐุงุฑ fallback
                        await loadScript('fallback-data.js');
                    }
                }
                
                // ูุฑุญูู ณ: ุจุงุฑฺฏุฐุงุฑ ููุทู ุงุตู
                console.log('๐ป ุจุงุฑฺฏุฐุงุฑ ููุทู ุงุตู...');
                try {
                    await loadScript('main.js');
                } catch (mainError) {
                    console.error('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ููุทู ุงุตู:', mainError);
                    showErrorToUser('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุจุฑูุงูู. ูุทูุงู ุตูุญู ุฑุง ุฑูุฑุด ฺฉูุฏ.');
                    return;
                }
                
                // ูุฑุญูู ด: ุฑุงูโุงูุฏุงุฒ ุจุฑูุงูู
                console.log('๐ ุจุฑูุงูู ุฏุฑ ุญุงู ุฑุงูโุงูุฏุงุฒ...');
                if (window.initializeApp) {
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', window.initializeApp);
                    } else {
                        setTimeout(() => window.initializeApp(), 100);
                    }
                } else {
                    console.error('ุชุงุจุน initializeApp ูพุฏุง ูุดุฏ');
                    showErrorToUser('ุจุฑูุงูู ุจู ุฏุฑุณุช ุจุงุฑฺฏุฐุงุฑ ูุดุฏ.');
                }
                
            } catch (error) {
                console.error('โ ุฎุทุง ุจุญุฑุงู ุฏุฑ ุจุงุฑฺฏุฐุงุฑ:', error);
                showErrorToUser('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ ุจุฑูุงูู. ูุทูุงู ุงูุชุฑูุช ุฎูุฏ ุฑุง ุจุฑุฑุณ ฺฉูุฏ.');
                
                // ุชูุงุด ุจุฑุง ุจุงุฑฺฏุฐุงุฑ fallback
                try {
                    await loadScript('fallback-data.js');
                    await loadScript('main.js');
                    if (window.initializeApp) {
                        setTimeout(() => window.initializeApp(), 100);
                    }
                } catch (fallbackError) {
                    console.error('ุฎุทุง ุฏุฑ ุจุงุฑฺฏุฐุงุฑ fallback:', fallbackError);
                }
            }
        }
        
        // ุดุฑูุน ุจุงุฑฺฏุฐุงุฑ
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', loadAllScripts);
        } else {
            setTimeout(loadAllScripts, 100);
        }
    </script>
</head>
<body>
    <!-- ุตูุญู ููุฏูฺฏ -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-logo">
            <i class="fas fa-store"></i>
        </div>
        <div class="loading-text">ูุฑูุดฺฏุงู ุฎุฏูุงุช ุฏุฌุชุงู SidkaShop<br>ุฏุฑ ุญุงู ุฑุงูโุงูุฏุงุฒ...</div>
        <div class="loading-spinner"></div>
    </div>

    <!-- ูุฏุฑ ุณุงุช -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo">
                    <i class="fas fa-store"></i>
                    <span>SidkaShop</span>
                </a>
                
                <ul class="nav-links">
                    <li><a href="#home" class="active"><i class="fas fa-home"></i> ุฎุงูู</a></li>
                    <li><a href="#products"><i class="fas fa-box"></i> ูุญุตููุงุช</a></li>
                    <li><a href="#pricing"><i class="fas fa-tag"></i> ูุณุช ููุช</a></li>
                    
                    <!-- ูพุดุชุจุงู -->
                    <li class="support-ticket-link">
                        <a href="#ticket" id="ticket-btn">
                            <i class="fas fa-comment-dots"></i> ูพุดุชุจุงู
                        </a>
                    </li>
                    
                    <!-- ุณุจุฏ ุฎุฑุฏ -->
                    <li class="cart-icon">
                        <a href="#cart" id="cart-toggle">
                            <i class="fas fa-shopping-cart"></i>
                            <span class="cart-count">0</span>
                        </a>
                    </li>
                    
                    <!-- ุจุฎุด ฺฉุงุฑุจุฑ -->
                    <li class="user-section">
                        <a href="#login" id="login-btn"><i class="fas fa-user"></i> ูุฑูุฏ</a>
                        <div class="user-dropdown" id="user-dropdown">
                            <a href="#profile" id="profile-btn"><i class="fas fa-user-circle"></i> ูพุฑููุงู</a>
                            <a href="#orders" id="orders-btn"><i class="fas fa-history"></i> ุณุงุจูู ุฎุฑุฏ</a>
                            <a href="#mytickets" id="mytickets-btn"><i class="fas fa-ticket-alt"></i> ุชฺฉุชโูุง ูู</a>
                            <a href="#logout" id="logout-btn"><i class="fas fa-sign-out-alt"></i> ุฎุฑูุฌ</a>
                        </div>
                    </li>
                    
                    <!-- ุงุฏูู -->
                    <li class="admin-link" id="admin-nav-item" style="display: none;">
                        <a href="#admin" id="admin-btn"><i class="fas fa-cogs"></i> ูพูู ุงุฏูู</a>
                    </li>
                </ul>
                
                <button class="menu-toggle" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- ุตูุญู ุงุตู -->
    <main>
        <!-- ุจุฎุด ูุนุฑู -->
        <section class="hero" id="home">
            <div class="container">
                <div class="hero-content">
                    <h1>ูุฑูุดฺฏุงู ุฎุฏูุงุช ุฏุฌุชุงู</h1>
                    <p class="subtitle">ุงุฑุงุฆู ุจุง ฺฉูุชโุชุฑู ุฎุฏูุงุช ุฏุฌุชุงู ุจุง ููุช ููุงุณุจ</p>
                    <p>ุฎุฑุฏ ูพููุ ุงุดุชุฑุงฺฉ VPNุ ุทุฑุงุญ ุชุงููู ู ุฎุฏูุงุช ูุฑุชุจุท ุจุง ุงููุช ฺฉุงูู ู ูพุดุชุจุงู 24 ุณุงุนุชู</p>
                    <div class="hero-buttons">
                        <a href="#products" class="btn btn-primary">ูุดุงูุฏู ูุญุตููุงุช</a>
                        <a href="#pricing" class="btn btn-secondary">ูุณุช ููุช</a>
                        <a href="#ticket" class="btn btn-telegram" id="open-ticket-main">
                            <i class="fas fa-comment-medical"></i> ูพุดุชุจุงู
                        </a>
                    </div>
                </div>
                <div class="hero-image">
                    <i class="fas fa-laptop-code"></i>
                </div>
            </div>
        </section>

        <!-- ุจุฎุด ูุญุตููุงุช -->
        <section class="products" id="products">
            <div class="container">
                <h2 class="section-title">ูุญุตููุงุช ู ุฎุฏูุงุช</h2>
                <p class="section-subtitle">ุฎุฏูุงุช ุฏุฌุชุงู ุจุง ฺฉูุช ุจุงูุง ู ููุช ููุงุณุจ</p>
                
                <div class="product-filters">
                    <button class="filter-btn active" data-filter="all">ููู</button>
                    <button class="filter-btn" data-filter="panels">ูพููโูุง</button>
                    <button class="filter-btn" data-filter="subscriptions">ุงุดุชุฑุงฺฉโูุง</button>
                    <button class="filter-btn" data-filter="design">ุฎุฏูุงุช ุทุฑุงุญ</button>
                </div>
                
                <div class="products-grid" id="products-grid">
                    <!-- ูุญุตููุงุช ุงุฒ ุทุฑู JavaScript ุงุถุงูู ูโุดููุฏ -->
                    <div class="loading-products">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ ูุญุตููุงุช...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ุจุฎุด ูุณุช ููุช -->
        <section class="pricing" id="pricing">
            <div class="container">
                <h2 class="section-title">ูุณุช ููุช ุฎุฏูุงุช</h2>
                <p class="section-subtitle">ููุชโูุง ุดูุงู ู ุจุฏูู ูุงุณุทู</p>
                
                <div class="pricing-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ูุงู ุฎุฏูุช</th>
                                <th>ุชูุถุญุงุช</th>
                                <th>ููุช (ุชููุงู)</th>
                                <th>ุนููุงุช</th>
                            </tr>
                        </thead>
                        <tbody id="pricing-table-body">
                            <!-- ุฑุฏูโูุง ุฌุฏูู ุงุฒ ุทุฑู JavaScript ุงุถุงูู ูโุดููุฏ -->
                            <tr>
                                <td colspan="4" style="text-align: center; padding: 30px;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                    ุฏุฑ ุญุงู ุจุงุฑฺฏุฐุงุฑ...
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <!-- ุงุทูุงุนุงุช ูพุฑุฏุงุฎุช -->
                <div class="payment-info">
                    <h3><i class="fas fa-credit-card"></i> ุฑูุด ูพุฑุฏุงุฎุช</h3>
                    <div class="payment-card">
                        <div class="payment-details">
                            <p><strong>ูุจูุบ ุฑุง ุจู ุดูุงุฑู ฺฉุงุฑุช ุฒุฑ ูุงุฑุฒ ฺฉูุฏ:</strong></p>
                            <div class="card-number">
                                <i class="fas fa-credit-card"></i>
                                <span id="card-number-text">6037 9982 2227 6759</span>
                                <button class="copy-btn" id="copy-card-btn">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                            <p><strong>ุจู ูุงู:</strong> ุงูุฑูุญูุฏ ูุณู</p>
                            <p class="note">ูพุณ ุงุฒ ูุงุฑุฒุ ุฑุณุฏ ุฑุง ุฏุฑ ุตูุญู ูพุฑุฏุงุฎุช ุขูพููุฏ ฺฉูุฏ.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ุจุฎุด ุชูุงุณ -->
        <section class="contact" id="contact">
            <div class="container">
                <h2 class="section-title">ุชูุงุณ ุจุง ูุง</h2>
                <p class="section-subtitle">ุฑุงูโูุง ุงุฑุชุจุงุท ุจุง ูพุดุชุจุงู</p>
                
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fab fa-telegram"></i>
                            <h3>ูพุดุชุจุงู ุชูฺฏุฑุงู</h3>
                            <p>@SidkaSupport</p>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <h3>ุชูุงุณ ุชููู</h3>
                            <p id="admin-phone-text">09021707830</p>
                            <button class="btn btn-primary" id="copy-phone-btn">ฺฉูพ ุดูุงุฑู</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- ููุชุฑ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="#" class="logo">
                        <i class="fas fa-store"></i>
                        <span>SidkaShop</span>
                    </a>
                    <p>ูุฑูุดฺฏุงู ุฎุฏูุงุช ุฏุฌุชุงู ุจุง ุงููุช ู ฺฉูุช ุจุงูุง</p>
                </div>
                
                <div class="footer-copyright">
                    <p>ุชูุงู ุญููู ุจุฑุง ูุฑูุดฺฏุงู ุฎุฏูุงุช ุฏุฌุชุงู ูุญููุธ ุงุณุช ยฉ ฑดฐณ</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- ========== MODALS ========== -->
    
    <!-- ุณุจุฏ ุฎุฑุฏ -->
    <div class="cart-overlay" id="cart-overlay"></div>
    <div class="cart-sidebar" id="cart-sidebar">
        <div class="cart-header">
            <h3><i class="fas fa-shopping-cart"></i> ุณุจุฏ ุฎุฑุฏ</h3>
            <button class="close-cart" id="close-cart">&times;</button>
        </div>
        
        <div class="cart-items" id="cart-items">
            <!-- ุขุชูโูุง ุณุจุฏ ุฎุฑุฏ -->
            <div class="empty-cart">
                <i class="fas fa-shopping-cart"></i>
                <p>ุณุจุฏ ุฎุฑุฏ ุดูุง ุฎุงู ุงุณุช</p>
            </div>
        </div>
        
        <div class="cart-footer">
            <div class="cart-total">
                <span>ูุฌููุน:</span>
                <span id="cart-total-price">ฐ ุชููุงู</span>
            </div>
            <button class="btn btn-primary btn-checkout" id="checkout-btn">ุงุฏุงูู ูุฑุขูุฏ ุฎุฑุฏ</button>
        </div>
    </div>

    <!-- ููุฏุงู ูุฑูุฏ/ุนุถูุช -->
    <div class="modal-overlay" id="login-overlay"></div>
    <div class="modal" id="login-modal">
        <div class="modal-header">
            <h3>ูุฑูุฏ / ุนุถูุช</h3>
            <button class="close-modal" id="close-login">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="login-form">
                <div class="form-group">
                    <label for="phone">ุดูุงุฑู ููุจุงู</label>
                    <input type="tel" id="phone" placeholder="09xxxxxxxxx" maxlength="11" pattern="09[0-9]{9}" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="password">ุฑูุฒ ุนุจูุฑ</label>
                    <input type="password" id="password" placeholder="ุฏุฑ ุตูุฑุช ุซุจุชโูุงู ูุจู">
                </div>
                <button class="btn btn-primary btn-login" id="submit-login">ูุฑูุฏ / ุนุถูุช</button>
                <p style="margin-top: 15px; text-align: center; color: #aaa;">
                    ุจุง ูุฑูุฏุ ููุงูู ูุฑูุดฺฏุงู ุฑุง ูพุฐุฑูุชูโุงุฏ
                </p>
                <!-- ุงู ุชฺฉู ฺฉุฏ ุฑู ุฏุฑ ููุฏุงู ูุฑูุฏ (login-modal) ูพุฏุง ฺฉู: -->
                <p style="margin-top: 10px; text-align: center;">
                    <a href="#" id="show-register">ุซุจุชโูุงู ฺฉุงูู (ุจุง ูุงู ู ุฑูุฒ)</a>
                </p>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ุซุจุชโูุงู ฺฉุงูู -->
    <div class="modal-overlay" id="register-overlay"></div>
    <div class="modal" id="register-modal">
        <div class="modal-header">
            <h3>ุซุจุชโูุงู ฺฉุงูู</h3>
            <button class="close-modal" id="close-register">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="registration-form">
                <div class="form-group">
                    <label for="reg-phone">ุดูุงุฑู ููุจุงู *</label>
                    <input type="tel" id="reg-phone" placeholder="09xxxxxxxxx" maxlength="11" pattern="09[0-9]{9}" inputmode="numeric">
                </div>
                <div class="form-group">
                    <label for="reg-first-name">ูุงู *</label>
                    <input type="text" id="reg-first-name" placeholder="ูุงู" required>
                </div>
                <div class="form-group">
                    <label for="reg-last-name">ูุงู ุฎุงููุงุฏฺฏ *</label>
                    <input type="text" id="reg-last-name" placeholder="ูุงู ุฎุงููุงุฏฺฏ" required>
                </div>
                <div class="form-group">
                    <label for="reg-password">ุฑูุฒ ุนุจูุฑ *</label>
                    <input type="password" id="reg-password" placeholder="ุญุฏุงูู ถ ฺฉุงุฑุงฺฉุชุฑ" minlength="6" required>
                </div>
                <div class="form-group">
                    <label for="reg-confirm-password">ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ *</label>
                    <input type="password" id="reg-confirm-password" placeholder="ุชฺฉุฑุงุฑ ุฑูุฒ ุนุจูุฑ" minlength="6" required>
                </div>
                <button class="btn btn-primary btn-register" id="submit-register">
                    ุซุจุชโูุงู ู ูุฑูุฏ
                </button>
                <p style="margin-top: 15px; text-align: center;">
                    <a href="#" id="switch-to-login">ูุฑูุฏ ุจุง ุดูุงุฑู ููุจุงู</a>
                </p>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ูพุฑุฏุงุฎุช -->
    <div class="modal-overlay" id="checkout-overlay"></div>
    <div class="modal modal-lg" id="checkout-modal">
        <div class="modal-header">
            <h3><i class="fas fa-credit-card"></i> ุชฺฉูู ุฎุฑุฏ ู ูพุฑุฏุงุฎุช</h3>
            <button class="close-modal" id="close-checkout">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="checkout-form">
                <h4>ุงุทูุงุนุงุช ุดุฎุต</h4>
                <div class="form-group">
                    <label for="first-name">ูุงู *</label>
                    <input type="text" id="first-name" placeholder="ูุงู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                </div>
                <div class="form-group">
                    <label for="last-name">ูุงู ุฎุงููุงุฏฺฏ *</label>
                    <input type="text" id="last-name" placeholder="ูุงู ุฎุงููุงุฏฺฏ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ">
                </div>
                <div class="form-group">
                    <label for="checkout-phone">ุดูุงุฑู ููุจุงู *</label>
                    <input type="tel" id="checkout-phone" placeholder="09xxxxxxxxx" maxlength="11" pattern="09[0-9]{9}">
                </div>
                
                <div class="order-summary">
                    <h4>ุฎูุงุตู ุณูุงุฑุด</h4>
                    <div id="order-summary-items"></div>
                    <div class="order-total">
                        <span>ูุฌููุน:</span>
                        <span id="order-total-price">ฐ ุชููุงู</span>
                    </div>
                </div>
                
                <div class="payment-instruction">
                    <h4>ุฑูุด ูพุฑุฏุงุฎุช</h4>
                    <p><strong>ูุทูุงู ูุจูุบ <span id="payment-amount">ฐ</span> ุชููุงู ุฑุง ุจู ุดูุงุฑู ฺฉุงุฑุช ุฒุฑ ูุงุฑุฒ ฺฉูุฏ:</strong></p>
                    <div class="card-number-large">
                        <i class="fas fa-credit-card"></i>
                        <span id="card-number-large-text">6037 9982 2227 6759</span>
                        <button class="copy-btn" id="copy-card-large-btn">
                            <i class="fas fa-copy"></i> ฺฉูพ
                        </button>
                    </div>
                    <p><strong>ุจู ูุงู:</strong> ุงูุฑูุญูุฏ ูุณู</p>
                    <p class="note">ุญุชูุงู ุดูุงุฑู ูพฺฏุฑ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ.</p>
                </div>
                
                <!-- ุฏุฑ ูุณูุช ููุฏุงู ูพุฑุฏุงุฎุชุ ุจุฎุด ุขูพููุฏ ุฑุณุฏ ุฑุง ุจุง ุงู ฺฉุฏ ุฌุงฺฏุฒู ฺฉู -->

                <div class="upload-receipt">
                  <h4>ุขูพููุฏ ุฑุณุฏ ูพุฑุฏุงุฎุช</h4>
    
                  <!-- ุฏฺฉูู ุฒุจุง ุงูุชุฎุงุจ ูุงู -->
                  <div class="custom-file-upload">
                      <!-- ุฏฺฉูู ุชูุณุท JavaScript ุงุถุงูู ูโุดูุฏ -->
                  </div>
    
                  <!-- Input ุงุตู (ูุฎู) -->
                  <input type="file" id="receipt-file" accept="image/*,.jpg,.jpeg,.png,.webp">
    
                  <p class="note" style="margin-top: 15px; color: #aaa; font-size: 0.9rem;">
                      <i class="fas fa-info-circle"></i> ูโุชูุงูุฏ ุงุฒ ฺฏุงูุฑ ุง ุฏูุฑุจู ุนฺฉุณ ุจฺฏุฑุฏ (ุญุฏุงฺฉุซุฑ ตMB)
                  </p>
    
                  <div class="form-group">
                      <label for="receipt-note">ุชูุถุญุงุช (ุงุฎุชุงุฑ)</label>
                      <textarea id="receipt-note" rows="2" placeholder="ูุซูุงู ุณุงุนุช ูุงุฑุฒุ ุดูุงุฑู ูพฺฏุฑ ู ..."></textarea>
                  </div>
              </div>
                
                <button class="btn btn-primary" id="final-submit-btn">ุชฺฉูู ุฎุฑุฏ ู ุงุฑุณุงู</button>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ุชฺฉุช ูพุดุชุจุงู -->
    <div class="modal-overlay" id="ticket-overlay"></div>
    <div class="modal modal-lg" id="ticket-modal">
        <div class="modal-header">
            <h3><i class="fas fa-comment-medical"></i> ุณุณุชู ูพุดุชุจุงู</h3>
            <button class="close-modal" id="close-ticket">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="ticket-form">
                <h4>ุงุฑุณุงู ุชฺฉุช ุฌุฏุฏ</h4>
                <div class="form-group">
                    <label for="ticket-subject">ููุถูุน *</label>
                    <input type="text" id="ticket-subject" placeholder="ูุดฺฉู ุฏุฑ ุฎุฑุฏุ ุณูุงู ุฏุฑุจุงุฑู ูุญุตูู ู ...">
                </div>
                <div class="form-group">
                    <label for="ticket-message">ูพุงู *</label>
                    <textarea id="ticket-message" rows="5" placeholder="ูพุงู ุฎูุฏ ุฑุง ุจุง ุฌุฒุฆุงุช ุจููุณุฏ..."></textarea>
                </div>
                <button class="btn btn-primary" id="submit-ticket-btn">ุงุฑุณุงู ุชฺฉุช</button>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ุณุงุจูู ุฎุฑุฏ -->
    <div class="modal-overlay" id="orders-overlay"></div>
    <div class="modal modal-lg" id="orders-modal">
        <div class="modal-header">
            <h3>ุณุงุจูู ุฎุฑุฏ</h3>
            <button class="close-modal" id="close-orders">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="orders-list" id="orders-list">
                <!-- ุณูุงุฑุดโูุง -->
                <div class="empty-orders">
                    <i class="fas fa-history"></i>
                    <p>ูููุฒ ุณูุงุฑุด ุซุจุช ูฺฉุฑุฏูโุงุฏ</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ูพุฑููุงู -->
    <div class="modal-overlay" id="profile-overlay"></div>
    <div class="modal" id="profile-modal">
        <div class="modal-header">
            <h3>ูพุฑููุงู ฺฉุงุฑุจุฑ</h3>
            <button class="close-modal" id="close-profile">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="profile-info">
                <div class="profile-avatar">
                    <i class="fas fa-user-circle"></i>
                </div>
                <div class="profile-details">
                    <div class="profile-item">
                        <span>ูุงู:</span>
                        <span id="profile-name">---</span>
                    </div>
                    <div class="profile-item">
                        <span>ูุงู ุฎุงููุงุฏฺฏ:</span>
                        <span id="profile-lastname">---</span>
                    </div>
                    <div class="profile-item">
                        <span>ุดูุงุฑู ููุจุงู:</span>
                        <span id="profile-phone">---</span>
                    </div>
                    <div class="profile-item">
                        <span>ุชุนุฏุงุฏ ุณูุงุฑุดุงุช:</span>
                        <span id="profile-orders-count">ฐ</span>
                    </div>
                    <div class="profile-item">
                        <span>ุชุนุฏุงุฏ ุชฺฉุชโูุง:</span>
                        <span id="profile-tickets-count">ฐ</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ุชฺฉุชโูุง ูู -->
    <div class="modal-overlay" id="mytickets-overlay"></div>
    <div class="modal modal-lg" id="mytickets-modal">
        <div class="modal-header">
            <h3><i class="fas fa-ticket-alt"></i> ุชฺฉุชโูุง ูู</h3>
            <button class="close-modal" id="close-mytickets">&times;</button>
        </div>
        
        <div class="modal-body">
            <div class="user-tickets-list" id="user-tickets-list">
                <!-- ุชฺฉุชโูุง ฺฉุงุฑุจุฑ -->
                <div class="empty-message">
                    <i class="fas fa-ticket-alt"></i>
                    <p>ูููุฒ ุชฺฉุช ุงุฑุณุงู ูฺฉุฑุฏูโุงุฏ</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ููุฏุงู ูพูู ุงุฏูู -->
    <div class="modal-overlay" id="admin-overlay"></div>
    <div class="modal modal-xl" id="admin-modal">
        <div class="modal-header">
            <h3><i class="fas fa-cogs"></i> ูพูู ูุฏุฑุช ุงุฏูู</h3>
            <button class="close-modal" id="close-admin">&times;</button>
        </div>
        
        <div class="modal-body">
            <!-- ุงุทูุงุนุงุช ุงุฏูู -->
            <div class="admin-info">
                <h4>ุงุทูุงุนุงุช ุงุฏูู</h4>
                <p><strong>ูุงู:</strong> ุงูุฑูุญูุฏ ูุณู</p>
                <p><strong>ุดูุงุฑู ุชูุงุณ:</strong> 09021707830</p>
                <p><strong>ุดูุงุฑู ฺฉุงุฑุช:</strong> <span id="admin-card-number">6037-9982-2227-6759</span></p>
            </div>
            
            <!-- ุขูุงุฑ ฺฉู -->
            <div class="admin-stats">
                <div class="stat-card">
                    <h5>ฺฉุงุฑุจุฑุงู</h5>
                    <span id="stats-users-count">0</span>
                </div>
                <div class="stat-card">
                    <h5>ุณูุงุฑุดุงุช</h5>
                    <span id="stats-orders-count">0</span>
                </div>
                <div class="stat-card">
                    <h5>ุฏุฑุขูุฏ ฺฉู</h5>
                    <span id="stats-total-income">0 ุชููุงู</span>
                </div>
                <div class="stat-card">
                    <h5>ุชฺฉุชโูุง ุฌุฏุฏ</h5>
                    <span id="stats-new-tickets">0</span>
                </div>
            </div>
            
            <!-- ุชุจโูุง ุงุฏูู -->
            <div class="admin-tabs">
                <div class="tab-buttons">
                    <button class="tab-btn active" data-tab="orders-tab">ุณูุงุฑุดุงุช</button>
                    <button class="tab-btn" data-tab="tickets-tab">ุชฺฉุชโูุง</button>
                    <button class="tab-btn" data-tab="users-tab">ฺฉุงุฑุจุฑุงู</button>
                </div>
                
                <!-- ุชุจ ุณูุงุฑุดุงุช -->
                <div class="tab-content active" id="orders-tab">
                    <div class="admin-section">
                        <h4>ูุฏุฑุช ุณูุงุฑุดุงุช</h4>
                        <div class="admin-orders-list" id="admin-orders-list">
                            <!-- ูุณุช ุณูุงุฑุดุงุช -->
                            <div class="empty-message">
                                <i class="fas fa-box-open"></i>
                                <p>ูููุฒ ุณูุงุฑุด ุซุจุช ูุดุฏู ุงุณุช</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ุชุจ ุชฺฉุชโูุง -->
                <div class="tab-content" id="tickets-tab">
                    <div class="admin-section">
                        <h4>ูุฏุฑุช ุชฺฉุชโูุง ูพุดุชุจุงู</h4>
                        <div class="admin-tickets-list" id="admin-tickets-list">
                            <!-- ูุณุช ุชฺฉุชโูุง -->
                            <div class="empty-message">
                                <i class="fas fa-comments"></i>
                                <p>ูฺ ุชฺฉุช ุงุฑุณุงู ูุดุฏู ุงุณุช</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ุชุจ ฺฉุงุฑุจุฑุงู -->
                <div class="tab-content" id="users-tab">
                    <div class="admin-section">
                        <h4>ูุฏุฑุช ฺฉุงุฑุจุฑุงู</h4>
                        <div class="admin-users-list" id="admin-users-list">
                            <!-- ูุณุช ฺฉุงุฑุจุฑุงู -->
                            <div class="empty-message">
                                <i class="fas fa-users"></i>
                                <p>ูููุฒ ฺฉุงุฑุจุฑ ุซุจุช ูฺฉุฑุฏูโุงุฏ</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ููุฏุงู ููุงุด ฺฉุฏ (ุงุถุงูู ฺฉู ุจุนุฏ ุงุฒ ููุฏุงู ุชูฺฏุฑุงู) -->
                <div class="modal-overlay" id="fallback-code-overlay" style="display: none;"></div>
                <div class="modal" id="fallback-code-modal" style="display: none;">
                    <div class="modal-header">
                        <h3><i class="fas fa-key"></i> ฺฉุฏ ุงููุช</h3>
                        <button class="close-modal" onclick="closeModal('fallback-code-modal', 'fallback-code-overlay')">&times;</button>
                    </div>
                    <div class="modal-body" style="text-align: center;">
                        <div class="code-display-container">
                            <i class="fas fa-shield-alt fa-3x" style="color: #2ecc71; margin-bottom: 20px;"></i>
                            <h4>ฺฉุฏ ุงููุช ุชููุฏ ุดุฏ</h4>
                            <p>ุจู ุฏูู ูุญุฏูุฏุชโูุง ุงูุชุฑูุชุ ฺฉุฏ ุจู ุชูฺฏุฑุงู ุงุฑุณุงู ูุดุฏ.</p>
                            <p>ูุทูุงู ฺฉุฏ ุฒุฑ ุฑุง ฺฉูพ ฺฉุฑุฏู ู ุฏุฑ ููุฏ ูุฑุจูุทู ูุงุฑุฏ ฺฉูุฏ:</p>
            
                            <div class="code-box" id="fallback-code-display" style="
                                font-size: 2.5rem;
                                font-weight: bold;
                                letter-spacing: 10px;
                                background: #f8f9fa;
                                padding: 20px;
                                border-radius: 10px;
                                margin: 20px 0;
                                color: #2ecc71;
                                direction: ltr;
                            ">-----</div>
            
                            <p style="color: #f39c12;">
                                <i class="fas fa-clock"></i>
                                ุงู ฺฉุฏ ุชุง <span id="code-expiry-time">ฑฐ</span> ุฏููู ุฏฺฏุฑ ูุนุชุจุฑ ุงุณุช
                            </p>
            
                            <div style="margin-top: 25px;">
                                <button class="btn btn-primary" onclick="copyFallbackCode()">
                                    <i class="fas fa-copy"></i> ฺฉูพ ฺฉุฏ
                                </button>
                                <button class="btn btn-secondary" onclick="closeModal('fallback-code-modal', 'fallback-code-overlay')">
                                    <i class="fas fa-times"></i> ุจุณุชู
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                // ุชุงุจุน ููุงุด ฺฉุฏ fallback
                function showFallbackCode(code, phone) {
                    document.getElementById('fallback-code-display').textContent = code;
                    document.getElementById('code-expiry-time').textContent = 'ฑฐ';
    
                    openModal('fallback-code-modal', 'fallback-code-overlay');
    
                    // ุชุงูุฑ ูุนฺฉูุณ
                    let timeLeft = 600; // 10 ุฏููู
                    const timerElement = document.getElementById('code-expiry-time');
                    const timer = setInterval(() => {
                        const minutes = Math.floor(timeLeft / 60);
                        const seconds = timeLeft % 60;
                        timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        
                        if (timeLeft <= 0) {
                            clearInterval(timer);
                            timerElement.textContent = 'ูููุถ ุดุฏ';
                            timerElement.style.color = '#e74c3c';
                        }
                        timeLeft--;
                    }, 1000);
    
                    // ุฐุฎุฑู ุชุงูุฑ ุจุฑุง ูพุงฺฉุณุงุฒ
                    if (window.fallbackTimer) {
                        clearInterval(window.fallbackTimer);
                    }
                    window.fallbackTimer = timer;
                }

                // ุชุงุจุน ฺฉูพ ฺฉุฏ fallback
                function copyFallbackCode() {
                    const code = document.getElementById('fallback-code-display').textContent;
                    copyToClipboard(code);
                }
                </script>

                        </div>
                    </div>
                </div>

                <!-- ููุฏุงู ุชุฃุฏ ุชูฺฏุฑุงู (ุจุงุฏ ุงูุฌุง ุจุงุดุฏ) -->
                <div class="modal-overlay" id="telegram-code-overlay"></div>
                <div class="modal" id="telegram-code-modal">
                    <div class="modal-header">
                        <h3><i class="fab fa-telegram"></i> ุชุฃุฏ ุฏู ูุฑุญููโุง</h3>
                        <button class="close-modal" id="close-telegram-code">&times;</button>
                    </div>
    
                    <div class="modal-body">
                        <div class="telegram-verification">
                            <div class="verification-info">
                                <i class="fab fa-telegram fa-3x" style="color: #0088cc;"></i>
                                <h4>ฺฉุฏ ุชุฃุฏ ุจู ุชูฺฏุฑุงู ุดูุง ุงุฑุณุงู ุดุฏ</h4>
                                <p>ฺฉุฏ ถ ุฑูู ุจู ุชูฺฏุฑุงู ุงุฏูู ุงุฑุณุงู ุดุฏ.</p>
                                <p id="phone-display" style="margin: 10px 0; font-weight: bold;"></p>
                                <p id="code-expiry" style="color: #f39c12; font-size: 0.9rem;"></p>
                            </div>
            
                            <div class="form-group">
                                <label for="telegram-code">ฺฉุฏ ถ ุฑูู</label>
                                <input type="text" id="telegram-code" 
                                       maxlength="6" 
                                       pattern="[0-9]{6}"
                                       placeholder="123456"
                                       inputmode="numeric"
                                       style="text-align: center; font-size: 1.5rem; letter-spacing: 10px;">
                            </div>
            
                            <div class="verification-actions">
                                <button class="btn btn-telegram" id="verify-code-btn">
                                    <i class="fas fa-check-circle"></i> ุชุฃุฏ ู ูุฑูุฏ
                                </button>
                                <button class="btn btn-secondary" id="resend-code-btn">
                                    <i class="fas fa-redo"></i> ุงุฑุณุงู ูุฌุฏุฏ ฺฉุฏ
                                </button>
                                <button class="btn btn-danger" id="cancel-verification-btn">
                                    <i class="fas fa-times"></i> ุงูุตุฑุงู
                                </button>
                            </div>
            
                            <div class="verification-status" id="verification-status"></div>
                        </div>
                    </div>
                </div>

<!-- ุงุณฺฉุฑูพุชโูุง -->
<script src="telegram-2fa.js"></script>
            </div>
        </div>
    </div>
</body>
</html>
